<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>svg</title>	
	<link rel="stylesheet" href="../css/reset.css">
	<script src="../js/jquery-3.1.1.min.js"></script>
	<!-- <script>
		$(window).scroll(function(){
			var scrollL = $(this).scrollTop();
			if(scrollL>500){
				$(".svgWrapper").addClass("animate");
			}else{
				$(".svgWrapper").removeClass("animate");
			}
		});
	</script> -->
	<style type="text/css">
		body{background-color: pink;}
		.st0{fill:none;stroke:#231F20;stroke-miterlimit:10;
			stroke-dasharray: 620;
			stroke-dashoffset:620;
		}
		/*.svgWrapper.animate .st0{animation:lineAni 1s forwards linear;}*/
		@keyframes lineAni{
			to{stroke-dashoffset:0;}
		}
	</style>
	<script>
		$(function(){
			var path = $(".svgWrapper path").get(0);
			var total_length = path.getTotalLength();
			 console.log(total_length);
			$(window).scroll(function(){
				var scrollTop = $(this).scrollTop();

				var sScroll = 200;
				var eScroll = 600;
				var x;

				// (eScroll-sScroll):(scrollTop-sScroll)=(0-total_length):(x-total_length);
				//(eScroll-sScroll)*(x-total_length)=(scrollTop-sScroll)*(x-total_length);
				 x = ((scrollTop-sScroll)*(0-total_length))/(eScroll-sScroll)+total_length;
				 console.log("s값 : " + scrollTop + " x값 : " + x);

				 if(x>total_length){x=total_length}
				 if(x<0){x=0}
				 $(".st0").css("stroke-dashoffset",x);
			});
		});
	</script>
</head>
<body>
	<div style="height: 1000px;"></div>
	<div class="svgWrapper">
		<svg id="Layer_1" x="0px" y="0px" width="500px" height="500px" viewBox="0 0 500 500">
			<path class="st0" d="M145.096,0c-32.563,62.546-93.955,159.643-31.312,222.793c55.771,56.222,138.886,70.372,183.713,140.819
			c26.057,40.95,35.237,89.43,44.089,136.388"/>
		</svg>
	</div>
	<div style="height: 800px"></div>
</body>
</html>